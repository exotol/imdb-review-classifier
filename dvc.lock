schema: '2.0'
stages:
  data_split:
    cmd: python -m imdb_review_classifier.pipelines.data_split --path_to_config=configs/baseline.yaml
    deps:
    - path: data/raw/imdb_dataset.csv
      md5: 308443a50e5c993e7b8a1cdb95750026
      size: 66212309
    - path: imdb_review_classifier/pipelines/data_split.py
      md5: 71e490535a9201dbdad67757bf68893f
      size: 1213
    params:
      configs/baseline.yaml:
        base:
          seed: 100500
        data_split:
          raw_data: data/raw/imdb_dataset.csv
          test_size: 0.2
          train_path: data/split/train.csv
          test_path: data/split/test.csv
    outs:
    - path: data/split/test.csv
      md5: 4279918fa2315ab43852446f5b846215
      size: 13193722
    - path: data/split/train.csv
      md5: e91174c30f08e589561364b57e63f404
      size: 53018604
  features:
    cmd: python -m imdb_review_classifier.pipelines.featurize --path_to_config=configs/baseline.yaml
    deps:
    - path: data/split/train.csv
      md5: e91174c30f08e589561364b57e63f404
      size: 53018604
    - path: imdb_review_classifier/pipelines/featurize.py
      md5: 414d8690b928b8bd2d213cfc925a3e46
      size: 1419
    params:
      configs/baseline.yaml:
        data_split:
          raw_data: data/raw/imdb_dataset.csv
          test_size: 0.2
          train_path: data/split/train.csv
          test_path: data/split/test.csv
        features:
          vectorizer:
            analyzer: word
            min_df: 3
          save:
            model_file_name: models/count_vectorizer
            train_data_file: data/features/x_train
            target_train_file: data/features/y_train
            train_data: data/features/train
    outs:
    - path: data/features/train
      md5: 9a9569ffbd3a5faea3f35357c6d2a6ee
      size: 69368299
    - path: models/count_vectorizer
      md5: eb267badacbf60569eda2fee413182b3
      size: 1760001
